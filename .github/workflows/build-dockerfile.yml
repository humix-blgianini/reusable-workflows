on:
    workflow_call:
      inputs:
        DOCKER_USERNAME:
            required: true
            type: string

        DOCKER_PASSWORD:
            required: true
            type: string

        APP_NAME:
            required: true
            type: string
jobs:
    build:
        runs-on: ubuntu-latest

        steps:
        # Check out the code
        - name: Checkout Code
          uses: actions/checkout@v3

        # Login to Docker Registry
        - name: Log in to Docker Hub
          uses: docker/login-action@v2
          with:
            username: ${{ inputs.DOCKER_USERNAME }}
            password: ${{ inputs.DOCKER_PASSWORD }}

        # Build and Push Docker Image
        - name: Build and Push Docker Image
          run: |
            docker build -t ${{ secrets.DOCKER_USERNAME }}/${{  inputs.APP_NAME }} .
            docker push ${{ secrets.DOCKER_USERNAME }}/${{  inputs.APP_NAME }}
  